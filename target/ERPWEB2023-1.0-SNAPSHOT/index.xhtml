<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>ERP WEB UNIPAR 2023</title>
    </h:head>
    <h:body>
        <h1 align="center">Cadastro de Clientes</h1>
        <br/>
        <h:form>
            <p:messages />
            <p:growl showDetail="false"/>
            
            <p:panelGrid columns="3">
                Nome:<p:inputText value="#{clienteControle.cliente.nome}" size="50"
                                  required="true" requiredMessage="O nome é obrigatório!"
                                  id="nome"/>
                <p:message for="nome"/>
                CPF:<p:inputText value="#{clienteControle.cliente.cpf}" size="10"
                                required="true" requiredMessage="O CPF é obrigatória!"
                                id="cpf"/>
                <p:message for="cpf"/>
                RG:<p:inputText value="#{clienteControle.cliente.rg}" size="10"
                                id="rg"/>
                <p:message for="rg"/>
                Telefone:<p:inputText value="#{clienteControle.cliente.telefone}" size="10"
                                id="telefone"/>
                <p:message for="telefone"/>
                Endereco:<p:inputText value="#{clienteControle.cliente.endereco}" size="10"
                                id="endereco"/>
                <p:message for="endereco"/>
                N°:<p:inputText value="#{clienteControle.cliente.numero}" size="10"
                                id="numero"/>
                <p:message for="numero"/>
                <p:commandButton value="Salvar" action="#{clienteControle.salvar()}"
                                 ajax="false"/>
            </p:panelGrid>            
            <p:dataTable value="#{clienteControle.listaCliente}" var="cli"
                         emptyMessage="Nenhum cliente cadastrado!"
                         paginator="true" rows="2" 
                         rowsPerPageTemplate="2,5,10,{ShowAll|'All'}">
                <p:column headerText="Nome"
                    filterBy="#{cli.nome}" filterMatchMode="contains"
                    sortBy="#{cli.nome}">
                    <p:outputLabel value="#{cli.nome}"/>
                </p:column>
                <p:column headerText="CPF"
                    filterBy="#{cli.cpf}" filterMatchMode="contains"
                    sortBy="#{cli.cpf}">
                    <p:outputLabel value="#{cli.cpf}"/>
                </p:column>
                <p:column headerText="RG"
                    filterBy="#{cli.rg}" filterMatchMode="contains"
                    sortBy="#{cli.rg}">
                    <p:outputLabel value="#{cli.rg}"/>
                </p:column>
                <p:column headerText="Telefone"
                    filterBy="#{cli.telefone}" filterMatchMode="contains"
                    sortBy="#{cli.telefone}">
                    <p:outputLabel value="#{cli.telefone}"/>
                </p:column>
                <p:column headerText="Endereco"
                    filterBy="#{cli.endereco}" filterMatchMode="contains"
                    sortBy="#{cli.endereco}">
                    <p:outputLabel value="#{cli.endereco}"/>
                </p:column>
                <p:column headerText="Numero"
                    filterBy="#{cli.numero}" filterMatchMode="contains"
                    sortBy="#{cli.numero}">
                    <p:outputLabel value="#{cli.numero}"/>
                </p:column>
                <p:column headerText="OP" width="50">
                    <p:commandButton ajax="false" 
                                     action="#{clienteControle.remover(cli)}"
                                     icon="ui-icon-trash"
                                     immediate="true"/>
                </p:column>                               
            </p:dataTable>
        </h:form>
    </h:body>
</html>